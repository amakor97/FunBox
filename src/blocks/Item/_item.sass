@import "../../Sass/_reset.sass"
@import "../../Sass/_variables.sass"
@import "../../Sass/_fonts.sass"

.item
  width: 15em
  height: 23.75em
  margin: 0 auto

  &:nth-of-type(n)
    grid-column-start: auto
    grid-column-end: auto
    grid-row-start: auto
    grid-row-end: auto

  @media all and (-ms-high-contrast: none), (-ms-high-contrast: active)
    &:nth-of-type(n)
      -ms-grid-column: 1
      -ms-grid-column-span: 1

    &:nth-of-type(3n+1)
      -ms-grid-row: 1
      -ms-grid-row-span: 1

    &:nth-of-type(3n+2)
      -ms-grid-row: 2
      -ms-grid-row-span: 1

    &:nth-of-type(3n)
      -ms-grid-row: 3
      -ms-grid-row-span: 1
      
  @media (min-width: $screen-tablet)
    font:
      size: 10.333px

    &:nth-of-type(3n+1)
      grid-column-start: 2
      grid-column-end: 3
      grid-row-start: 1
      grid-row-end: 4

    &:nth-of-type(3n+2)
      grid-column-start: 1
      grid-column-end: 2
      grid-row-start: 2
      grid-row-end: 5

    &:nth-of-type(3n)
      grid-column-start: 3
      grid-column-end: 4
      grid-row-start: 2
      grid-row-end: 5

  @media (min-width: $screen-tablet) and (-ms-high-contrast: none), (-ms-high-contrast: active)
    &:nth-of-type(3n+1)
      -ms-grid-column: 2
      -ms-grid-column-span: 1
      -ms-grid-row: 1
      -ms-grid-row-span: 3

    &:nth-of-type(3n+2)
      -ms-grid-column: 1
      -ms-grid-column-span: 1
      -ms-grid-row: 2
      -ms-grid-row-span: 3

    &:nth-of-type(3n)
      -ms-grid-column: 3
      -ms-grid-column-span: 1
      -ms-grid-row: 2
      -ms-grid-row-span: 3

  @media (min-width: $screen-desktop)
    font:
      size: 21px

  @media all and (-ms-high-contrast: none), (-ms-high-contrast: active) 
    margin: 0 auto 40px

  @media (min-width: $screen-tablet) and (-ms-high-contrast: none), (-ms-high-contrast: active) 
    margin: 0 20px

  @media (min-width: $screen-desktop) and (-ms-high-contrast: none), (-ms-high-contrast: active) 
    margin: 0 40px

  &__card-wrapper
    margin-bottom: 0.6em

  &__card
    position: relative

    -webkit-box-sizing: border-box
    box-sizing: border-box
    width: 100%
    height: 22.5em

    font:
      family: 'Trebuchet MS', 'Lucida Sans', Arial, sans-serif
    color: $black

    -webkit-clip-path: polygon(2.125em 0, 100% 0, 100% 100%, 0 100%, 0 2.125em)
    clip-path: polygon(2.125em 0, 100% 0, 100% 100%, 0 100%, 0 2.125em)
    border-radius: 0.75em
    background:
      color: $main-blue
    cursor: pointer

    &--hovered
      background:
        color: $hover-blue

    &--selected
      background:
        color: $main-magenta

    &--selected-hovered
      background:
        color: $hover-magenta

    &--no-available
      background:
        color: $card-no-available

      pointer-events: none

  &__card-inner
    position: absolute
    top: 0.25em
    left: 0.25em

    -webkit-box-sizing: border-box
    box-sizing: border-box
    width: 14.5em
    height: 22em
    padding-top: 0.875em
    padding-left: 2.25em

    -webkit-clip-path: polygon(1.98em 0, 100% 0, 100% 100%, 0 100%, 0 1.98em)
    clip-path: polygon(1.98em 0, 100% 0, 100% 100%, 0 100%, 0 1.98em)
    border-radius: 0.5em
    background: 
      size: 17.25em 16.875em
      position: center 9.5em
      color: $card-bg
      image: url("./bg.png")
      repeat: no-repeat
      clip: padding-box

    pointer-events: none

    &--no-available
      background:
        image: -webkit-gradient(linear, left top, left bottom, from(rgba(255, 255, 255, 0.5)), to(rgba(255, 255, 255, 0.5))), url("./bg.png")
        image: -o-linear-gradient(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5)), url("./bg.png")
        image: linear-gradient(rgba(255,255,255,0.5), rgba(255,255,255,0.5)), url("./bg.png")
        size: 100% 100%, 17.25em 16.875em
        position: top left, center 9.5em

  &__card-promo
    margin-bottom: 0.5em

    color: $dark-grey
    font: 
      size: 0.75em

    pointer-events: none

    &--no-available
      color: $card-no-available

  &__card-title
    margin-bottom: 0.125em

    font:
      size: 2.25em
      weight: 700

    pointer-events: none

    &--no-available
      color: $card-no-available

  &__card-taste
    margin-bottom: 0.85em

    font:
      size: 1em
      weight: 700

    pointer-events: none
   
    &--no-available
      color: $card-no-available

  &__card-text
    margin-bottom: 0.125em

    font:
      size: 0.667em
    color: $dark-grey

    &--no-available
      color: $card-no-available

  &__card-text-number
    font:
      weight: 700

  &__card-value-container
    position: absolute
    right: 0.625em
    bottom: 0.625em

    display: -webkit-box
    display: -ms-flexbox
    display: flex
    -webkit-box-orient: vertical
    -webkit-box-direction: normal
    -ms-flex-direction: column
    flex-direction: column
    -webkit-box-pack: center
    -ms-flex-pack: center
    justify-content: center
    -webkit-box-align: center
    -ms-flex-align: center
    align-items: center
    width: 3.6em
    height: 3.6em    

    color: $white

    border-radius: 50%
    background:
      color: $main-blue

    &--hovered
      background:
        color: $hover-blue

    &--selected
      background:
        color: $main-magenta

    &--selected-hovered
      background:
        color: $hover-magenta

    &--no-available
      background:
        color: $card-no-available

  &__card-value-digits
    font:
      size: 1.8em

  &__underline
    display: -webkit-box
    display: -ms-flexbox
    display: flex
    -webkit-box-pack: center
    -ms-flex-pack: center
    justify-content: center
    -webkit-box-align: center
    -ms-flex-align: center
    align-items: center

    font:
      family: 'Trebuchet MS', 'Lucida Sans', Arial, sans-serif
      size: 0.8125em
      weight: 400
    color: $white
    text-align: center
    line-height: 1.85em

    min-height: 1.1875em
    font:
      size: 0.6em

    

    @media all and (-ms-high-contrast: none), (-ms-high-contrast: active)
      height: 24px

    &--no-available
      color: $underline-no-available

  &__btn
    display: inline-block
    padding: 0 0 0 0

    //line-height: 0.5625em

    //font-size: 0
    


    border: 2px transparent
    background: transparent
    cursor: pointer

    @media all and (-ms-high-contrast: none), (-ms-high-contrast: active)
      min-height: 1.1875em
      -webkit-box-sizing: border-box
      box-sizing: border-box

      line-height: 2em

    &--hovered
      color: $hover-blue

  &__btn-text
    font:
      family: 'Trebuchet MS', 'Lucida Sans', Arial, sans-serif
      size: 1em
      weight: 700
    color: $main-blue

    border: 1px transparent
    border-bottom: 1px dashed $main-blue
    background: transparent

    pointer-events: none

    &--hovered
      color: $hover-blue

      border-bottom: 1px dashed $hover-blue

  &__btn-dot
    font:
      family: 'Trebuchet MS', 'Lucida Sans', Arial, sans-serif
      size: 1em
      weight: 700
    color: $main-blue

    pointer-events: none

    &--hovered
      color: $hover-blue
